<div class="text-right">
	<a ui-sref="app.project.time-records.create-time-record" class="text-muted" style="margin-right:10px;">New fixed-length time record</a>
	<button type="button" class="btn btn-primary" ng-click="createTimeRecord();" ng-disabled="project.has_uncompleted_time_records">New time record</button>
</div>

<div class="projects-list-group" ng-show="todayTimeRecords.length > 0">
	<p>Today</p>
	<div class="list-group popout">
		<div class="list-group-item" ng-class="{ 'list-group-item-in-progress': (!timeRecord.completed), 'view': (timeRecord._view) }" ng-click="timeRecordClick(timeRecord);" ng-repeat="timeRecord in timeRecords | timeGroupingToday | filter:search | orderBy:'_start':true as todayTimeRecords">
			<div ng-if="!timeRecord._view" time-record-list-item="timeRecord"></div>
			<div ng-if="timeRecord._view && !timeRecord._edit" time-record-view="timeRecord"></div>
			<div ng-if="timeRecord._view && timeRecord._edit" time-record-edit="timeRecord"></div>
		</div>
	</div>
</div>

<div class="projects-list-group" ng-show="yesterdayTimeRecords.length > 0">
	<p>Yesterday</p>
	<div class="list-group popout">
		<div class="list-group-item" ng-class="{ 'list-group-item-in-progress': (!timeRecord.completed), 'view': (timeRecord._view) }" ng-click="timeRecordClick(timeRecord);" ng-repeat="timeRecord in timeRecords | timeGroupingYesterday | filter:search | orderBy:'_start':true as yesterdayTimeRecords">
			<div ng-if="!timeRecord._view" time-record-list-item="timeRecord"></div>
			<div ng-if="timeRecord._view && !timeRecord._edit" time-record-view="timeRecord"></div>
			<div ng-if="timeRecord._view && timeRecord._edit" time-record-edit="timeRecord"></div>
		</div>
	</div>
</div>

<div class="projects-list-group" ng-show="thisMonthTimeRecords.length > 0">
	<p>This month</p>
	<div class="list-group popout">
		<div class="list-group-item" ng-class="{ 'list-group-item-in-progress': (!timeRecord.completed), 'view': (timeRecord._view) }" ng-click="timeRecordClick(timeRecord);" ng-repeat="timeRecord in timeRecords | timeGroupingThisMonth | filter:search | orderBy:'_start':true as thisMonthTimeRecords">
			<div ng-if="!timeRecord._view" time-record-list-item="timeRecord"></div>
			<div ng-if="timeRecord._view && !timeRecord._edit" time-record-view="timeRecord"></div>
			<div ng-if="timeRecord._view && timeRecord._edit" time-record-edit="timeRecord"></div>
		</div>
	</div>
</div>

<div class="projects-list-group" ng-show="whileAgoTimeRecords.length > 0">
	<p>A while ago</p>
	<div class="list-group popout">
		<div class="list-group-item" ng-class="{ 'list-group-item-in-progress': (!timeRecord.completed), 'view': (timeRecord._view) }" ng-click="timeRecordClick(timeRecord);" ng-repeat="timeRecord in timeRecords | timeGroupingWhileAgo | filter:search | orderBy:'_start':true as whileAgoTimeRecords">
			<div ng-if="!timeRecord._view" time-record-list-item="timeRecord"></div>
			<div ng-if="timeRecord._view && !timeRecord._edit" time-record-view="timeRecord"></div>
			<div ng-if="timeRecord._view && timeRecord._edit" time-record-edit="timeRecord"></div>
		</div>
	</div>
</div>

<div class="text-center" ng-show="timeRecords._cursor">
	<a href="#" ng-click="loadMore();">Load more</a>
</div>
